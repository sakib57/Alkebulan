<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Payment Method</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <p *ngIf="card_info.stripe_customer_id == ''" class="ion-padding desc">You didn't added any card yet, Please add a card</p>
    <p *ngIf="card_info.stripe_customer_id != ''" class="ion-padding desc">You have added a card, Now you can change this</p>
    <div class="ion-padding card">
        <!-- <form [formGroup]="form">
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <ion-item>
                <ion-label position="floating" color="primary">Card Number</ion-label>
                <ion-input formControlName="card_number" [(ngModel)]="card_number" (ionChange)="check_card_number()" type="text" ></ion-input>
              </ion-item>
              <span *ngIf="this.card_status.number_valid != 'OK' && card_number.length > 15" style="font-size: 12px;color:red">Card number not valid</span>
              <span *ngIf="this.card_status.number_valid == 'OK' && card_number.length > 15" style="font-size: 12px;color:green">Card number is valid</span>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="4">
              <ion-item>
                <ion-label position="floating" color="primary">MM</ion-label>
                <ion-input formControlName="exp_mm" [(ngModel)]="mm" (ionChange)="check_date()" type="text" ></ion-input>
                
              </ion-item>
            </ion-col>
            <ion-col size="4">
              <ion-item>
                <ion-label position="floating" color="primary">YYYY</ion-label>
                <ion-input formControlName="exp_yy" [(ngModel)]="yyyy" (ionChange)="check_date()" type="text" ></ion-input>
              </ion-item>
            </ion-col>
            <ion-col size="4">
              <ion-item>
                <ion-label position="floating" color="primary">CVC</ion-label>
                <ion-input formControlName="cvc" [(ngModel)]="cvc_number" (ionChange)="check_cvc()" type="text" ></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="8">
                <span *ngIf="this.card_status.date_valid != 'OK' && mm.length > 0 && yyyy.length > 3" style="font-size: 12px;color:red">Expire date not valid</span>
                <span *ngIf="this.card_status.date_valid == 'OK' && mm.length > 0 && yyyy.length > 3" style="font-size: 12px;color:green">Expire date is valid</span>
            </ion-col>
            <ion-col size="4">
                <span *ngIf="this.card_status.cvc_valid != 'OK' && cvc_number.length > 3" style="font-size: 12px;color:red">CVC not valid</span>
                <span *ngIf="this.card_status.cvc_valid == 'OK' && cvc_number.length > 3" style="font-size: 12px;color:green">CVC is valid</span>
            </ion-col>
          </ion-row>
        </ion-grid>
          
          <ion-button [disabled]="!form.valid" (click)="onSubmit()" fill="solid" shape="round" style="margin-top: 20px; font-weight: 700;float: right;">
            Submit card info
          </ion-button >
          
      </form> -->


        <form id="payment-form">

            <div class="form-row">
                <div id="card-element">
                    <!-- a Stripe Element will be inserted here. -->
                </div>

                <!-- Used to display Element errors -->
                <br/>
                <div id="card-errors" role="alert"></div>
            </div>

            <ion-button *ngIf="card_info.stripe_customer_id == ''" (click)="onSubmit()" style="float: right;margin-top:35px" shape="round">Add Card</ion-button>
            <ion-button *ngIf="card_info.stripe_customer_id != ''" (click)="onSubmit()" style="float: right;margin-top:35px" shape="round">Update Card</ion-button>

        </form>

    </div>

</ion-content>